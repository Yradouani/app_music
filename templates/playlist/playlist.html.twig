{% extends 'base.html.twig' %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('assets/style/playlist.css') }}">
{% endblock %}


{% block title %}Playlist
{% endblock %}

{% block main %}
	{{ dump(playlists) }}
	{# {{ dump(coucou) }} #}

	{% if id is not defined %}
		<div id="playlist-container">
			<div id="playlist-header">
				<h1>
					<i class="fa-solid fa-music"></i>
					Playlists
				</h1>
			</div>
			<div id="playlist-content">
				<h2>
					Playlists
				</h2>
				{% if isUsed is defined and isUsed == true %}
					<div id="error_message">Le nom de la playlist est déjà utilisé, veuillez en choisir un autre</div>
				{% endif %}
				<div id="track_container">
					<div id="add_playlist">
						<div class="playlist-image add_playlist_image">
							<i class="fa-thin fa-plus"></i>
						</div>
						<span>Ajouter une playlist</span>
					</div>
					{% for playlist in playlists %}
						<div id={{playlist.id}} class="track">
							<div
								class="playlist-image">
								{# {% if %} #}
								<img src="/assets/images/cd.jpg"/>
							</div>
							<span>{{ playlist.getNamePlaylist() }}</span>
						</div>
					{% endfor %}
				</div>
			</div>
		</div>
	{% endif %}
	{% if id is defined %}
		<div id="oneplaylist_header">
			<div id="oneplaylist_header_img">
				<img src="/assets/images/cd.jpg"/>
			</div>
			<div id="oneplaylist_header_text">
				<div>
					<h2>Playlist</h2>
					<h1>Ma playlist</h1>
				</div>
				<button>
					<i class="fa-solid fa-play"></i>Écouter</button>
			</div>
		</div>
		<div id="oneplaylist_table">
			<table class="no-bg-color table table-dark table-hover">
				<thead>
					<tr>
						<th scope="col">Titre</th>
						<th scope="col">Artiste</th>
						<th scope="col">Album</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<img src="/assets/images/cd.jpg"/>
							<i class="fa-solid fa-microphone-stand"></i>
							<i class="bi bi-suit-heart-fill"></i>
							<i class="fa-thin fa-plus"></i>
						</td>
						<td>18,000</td>
						<td>18,000</td>
					</tr>
				</tbody>
			</table>
		</div>
	{% endif %}

	<div id="bg-dark"></div>
	<div id="modal">
		<span id="add_playlist_modal_header">
			<i class="fa-thin fa-plus"></i>
			Nouvelle playlist</span>
		<hr>
		<span id="add_playlist_name">
			<form action="{{ path('addplaylist.index') }}" method="POST">
				<input id="name_playlist_input" name="name_playlist" type="text" placeholder="Nom de playlist"/>
				<input type="submit" value="" class="arrow-button"/>
			</form>
		</span>
	</div>
{% endblock %}
{% block javascripts %}
	<script src="{{ asset('assets/js/playlist.js') }}" defer></script>
	{# <script src="{{ asset('assets/js/getTrackById.js') }}"></script> #}
{% endblock %}
